{"version":3,"sources":["components/GlobalStyles.js","components/images/bg.jpg","actions.js","components/UserLogin.js","components/AdminLogin.js","components/images/pattern2.jpg","components/admin/Menu.js","components/admin/UpdateAdminPassword.js","components/admin/AdminHome.js","components/images/admin.jpg","components/images/pattern.jpg","components/users/Menu.js","components/images/employee.png","components/users/UserHome.js","components/users/Shifts.js","components/users/CancelModal.js","components/users/EditShifts.js","components/admin/AddEmployeeModal.js","components/admin/EmployeeList.js","components/admin/AssignShiftsModal.js","components/admin/UpdateShiftModal.js","components/admin/CancelShiftModal.js","components/admin/DeleteShiftModal.js","components/admin/UserShifts.js","components/NewUser.js","components/users/CancelledShifts.js","components/users/UpdateDetailsModal.js","components/users/UpdatePasswordModal.js","components/users/UpdateEmailModal.js","components/users/UserProfile.js","components/admin/SendMail.js","components/admin/EmployeeProfile.js","components/admin/CancelledShiftsAdmin.js","components/App.js","reducers/cancelled-shifts-reducer.js","reducers/user-shift-reducer.js","reducers/swap-shifts-reducer.js","reducers/hasLoggedIn-reducer.js","reducers/admin-reducer.js","reducers/employee-list-reducer.js","reducers/all-shifts-reducer.js","reducers/user-details-reducer.js","reducers/index.js","index.js","store.js","localstorage.js"],"names":["createGlobalStyle","receieveEmployeeList","list","type","receieveAllShifts","shifts","receiveCancelledShifts","Wrapper","styled","div","BGImage","Form","form","Label","label","Input","input","Button","button","Container","P","p","UserLogin","useState","empID","setEmpID","password","setPassword","error","setError","history","useHistory","dispatch","useDispatch","onSubmit","ev","preventDefault","fetch","method","headers","Accept","body","JSON","stringify","_id","then","res","json","status","profile","data","push","catch","err","console","log","handleSubmit","htmlFor","className","placeholder","name","value","maxLength","onChange","target","required","href","AdminLogin","adminName","setAdminName","userName","Pattern","Menu","to","data-tip","data-for","size","fill","place","effect","id","onClick","window","localStorage","clear","Background","ModalWrapper","ModalContent","CloseModalButton","MdClose","H1","h1","Message","UpdateAdminPassword","showModal","setShowModal","modalRef","useRef","oldPassword","setOldPassword","newpassword","setNewPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","setStatus","keyPress","useCallback","e","key","useEffect","document","addEventListener","removeEventListener","current","ref","aria-label","prev","newPassword","location","reload","message","alert","Img","img","Section","section","SettingsContainer","SettingsIcon","ChangePassword","Grid","GridElement","Statement","AdminHome","showSettings","setShowSettings","adminState","useSelector","state","admin","src","fname","lname","style","display","backgroundColor","Tooltip","ReactTooltip","UserHome","userState","user","emp","alt","localizer","momentLocalizer","moment","allViews","Object","keys","Views","map","k","Shifts","events","values","newEvents","elem","startTime","Date","parseInt","endTime","views","step","showMultiDayTimes","defaultDate","toDate","defaultView","startAccessor","endAccessor","height","width","padding","zIndex","eventPropGetter","event","eventData","find","ot","color","CancelModal","cancelData","serverError","setServerError","format","Banner","ButtonContainer","Cancel","Swap","EditShifts","setEvents","cancelModal","setCancelModal","setCancelData","ID","updateUserShifts","sortFutureShifts","filter","now","sortOldShifts","sortAllShifts","index","title","local","object","disabled","Div","SubmitButton","AddEmployeeModal","fName","setFName","lName","setLName","email","setEmail","phone","setPhone","phoneNumber","Retire","Archive","EmployeeList","setList","temp","allEmployees","employees","activeUsers","el","currentStatus","retiredUsers","archivedUsers","joinDate","ErrorMessage","h3","AssignShiftModal","setStartTime","setEndTime","shiftType","setShiftType","timeError","setTimeError","empData","allShifts","users","getTime","shiftStart","toString","shiftEnd","empid","autoFocus","userProfile","min","max","Notice","UpdateShiftModal","updateData","newshift","shiftToUpdate","CancelShiftModal","DeleteShiftModal","deleteData","Update","Delete","UserShifts","updateModal","setUpdateModal","deteleModal","setDeleteModal","setUpdateData","setDeleteData","usersAndShifts","setUsersAndShifts","allUserShifts","i","theUser","theShift","theshift","NewUser","CancelledShifts","cancelled","shift","UpdateDetailsModal","UpdatePasswordModal","UpdateEmailModal","TableContainer","UserProfile","showDetailsModal","setShowDetailsModal","changePasswordModa","setChangePasswordModal","changeEmailModal","setChangeEmailModal","userID","userDetails","details","InputContainer","SendMail","startDate","setStartDate","endDate","setEndDate","filteredShifts","setFilteredShifts","empDetails","empShifts","dateStart","dateEnd","shiftsWithEmails","length","EmployeeProfile","useParams","setEmpShifts","setTemp","CancelledShiftsAdmin","App","loginCheck","logInCheck","hasLoggedIn","GlobalStyles","exact","path","initialState","combineReducers","action","swap","store","persistedState","serializedState","getItem","parse","loadState","createStore","__REDUX_DEVTOOLS_EXTENSION__","subscribe","setItem","saveState","getState","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.aca13db7.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n    /* *,\r\n    *:before,\r\n    *:after {\r\n        box-sizing: border-box;   \r\n        -webkit-font-smoothing: antialiased;\r\n    } */\r\n\r\n    body { \r\n        margin: 0\r\n    }\r\n    body { \r\n        scroll-behavior:smooth\r\n    }\r\n    html, body, div,\r\n    input, button, select, option,\r\n    h1, h2, h3, h4, h5, h6, p,\r\n    text {\r\n        font-family: \"Montserrat\", sans-serif;\r\n    }\r\n\r\n    html, body {\r\n        max-width: 100vw;\r\n    }\r\n\r\n    html, body, div, span, applet, object, iframe,\r\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n    a, abbr, acronym, address, big, cite, code,\r\n    del, dfn, em, img, ins, kbd, q, s, samp,\r\n    small, strike, strong, sub, sup, tt, var,\r\n    b, u, i, center,\r\n    dl, dt, dd, ol, ul, li,\r\n    fieldset, form, label, legend,\r\n    caption,\r\n    article, aside, canvas, details, embed,\r\n    figure, figcaption, footer, header, hgroup,\r\n    menu, nav, output, ruby, section, summary,\r\n    time, mark, audio, video {\r\n        margin: 0;\r\n        padding: 0;\r\n        border: 0;\r\n        font-size: 100%;\r\n        vertical-align: baseline; \r\n    }\r\n    /* HTML5 display-role reset for older browsers */\r\n    article, aside, details, figcaption, figure,\r\n    footer, header, hgroup, menu, nav, section {\r\n        display: block;\r\n    }\r\n    body {\r\n        line-height: 1;\r\n    }\r\n    ol, ul {\r\n        list-style: none;\r\n    }\r\n    blockquote, q {\r\n        quotes: none;\r\n    }\r\n\r\n    blockquote:before, blockquote:after,\r\n    q:before, q:after {\r\n        content: '';\r\n        content: none;\r\n    }\r\n\r\n    h1,\r\n    h2,\r\n    h3,\r\n    label,\r\n    button {\r\n        font-family: 'Montserrat';\r\n    }\r\n\r\n    p,\r\n    a,\r\n    li,\r\n    blockquote,\r\n    input {\r\n        font-family: 'Montserrat';\r\n    }\r\n\r\n    button {\r\n        border: none;\r\n        text-decoration: none;\r\n        outline: none;\r\n    }\r\n\r\n    table {\r\n    border-collapse: collapse;\r\n    width: inherit;\r\n    padding: 8px;\r\n  }\r\n\r\n  td,\r\n  th {\r\n    border-bottom: 1px solid #dddddd;\r\n    text-align: left;\r\n    padding: 8px;\r\n    font-size: 16px;\r\n  }\r\n\r\n  tr {\r\n    border-bottom: 1px solid gray;\r\n  }\r\n\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/bg.0e36a2f0.jpg\";","export const setLogIn = () => ({\r\n  type: \"SET_LOG_IN\",\r\n});\r\n\r\nexport const setLogOut = () => ({\r\n  type: \"SET_LOG_OUT\",\r\n});\r\n\r\nexport const receiveUserProfile = (profile) => ({\r\n  type: \"RECEIVE_USER_PROFILE\",\r\n  profile,\r\n});\r\n\r\nexport const receiveAdminProfile = (profile) => ({\r\n  type: \"RECEIVE_ADMIN_PROFILE\",\r\n  profile,\r\n});\r\n\r\nexport const receieveEmployeeList = (list) => ({\r\n  type: \"RECEIVE_EMPLOYEE_LIST\",\r\n  list,\r\n});\r\n\r\nexport const receieveAllShifts = (shifts) => ({\r\n  type: \"RECEIVE_ALL_SHIFTS\",\r\n  shifts,\r\n});\r\n\r\nexport const updateUserShifts = (shifts) => ({\r\n  type: \"UPDATE_USER_SHIFTS\",\r\n  shifts,\r\n});\r\n\r\nexport const receiveCancelledShifts = (shifts) => ({\r\n  type: \"RECEIVE_CANCELLED_SHIFTS\",\r\n  shifts,\r\n});\r\n\r\nexport const receiveUserDetails = (details) => ({\r\n  type: \"RECEIVE_USER_DETAILS\",\r\n  details,\r\n});\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BGImage from \"./images/bg.jpg\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setLogIn, receiveUserProfile } from \"../actions\";\r\n\r\nconst UserLogin = () => {\r\n  const [empID, setEmpID] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  // function to login and if login returns correct, set the appropriate redux states.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/userlogin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ _id: empID, password: password }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(setLogIn());\r\n          dispatch(receiveUserProfile(res.data));\r\n          history.push(\"/userHome\");\r\n        } else if (res.status === 404) {\r\n          setError(true);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Form onSubmit={(ev) => handleSubmit(ev)}>\r\n        {error === true ? (\r\n          <P>Login error. Please fill in correct details. </P>\r\n        ) : null}\r\n        <Label htmlFor=\"empID\">\r\n          <b>Employee ID</b>\r\n        </Label>\r\n        <Input\r\n          className={error === true ? \"showError\" : null}\r\n          type=\"text\"\r\n          placeholder=\"Employee ID\"\r\n          name=\"empID\"\r\n          value={empID}\r\n          maxLength=\"7\"\r\n          onChange={(ev) => setEmpID(ev.target.value)}\r\n          required\r\n        />\r\n        <Label htmlFor=\"psw\">\r\n          <b>Password</b>\r\n        </Label>\r\n        <Input\r\n          className={error === true ? \"showError\" : null}\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          name=\"psw\"\r\n          value={password}\r\n          onChange={(ev) => setPassword(ev.target.value)}\r\n          required\r\n        />\r\n        <Container>\r\n          <span>New User?</span>{\" \"}\r\n          <span>\r\n            <a href=\"/new-user\">Register!</a>\r\n          </span>\r\n        </Container>\r\n        <Button type=\"submit\">Login</Button>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  height: inherit;\r\n  width: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background-image: url(${BGImage});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  margin-left: 13%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  box-shadow: 0px 0px 3px 0px rgba(50, 50, 50, 0.75);\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 40px;\r\n  display: inline-block;\r\n  border: 1px solid #ccc;\r\n  box-sizing: border-box;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: linear-gradient(to right, #a2ccb6 0%, #fceeb5 50%, #ee786e 100%);\r\n  background-size: 500%;\r\n  border: none;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  height: 40px;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin: 10px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst P = styled.p`\r\n  color: red;\r\n  text-align: center;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport default UserLogin;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport BGImage from \"./images/bg.jpg\";\r\nimport { setLogIn, receiveAdminProfile } from \"../actions\";\r\n\r\nconst AdminLogin = () => {\r\n  const [adminName, setAdminName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  // function to login and if login returns correct, set the appropriate redux states.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/adminlogin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ userName: adminName, password: password }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(setLogIn());\r\n          dispatch(receiveAdminProfile(res.data));\r\n          history.push(\"/adminHome\");\r\n        } else if (res.status === 404) {\r\n          setError(true);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Form onSubmit={(ev) => handleSubmit(ev)}>\r\n        {error === true ? (\r\n          <P>Login error. Please fill in correct details. </P>\r\n        ) : null}\r\n        <Label htmlFor=\"admin\">\r\n          <b>Admin Name</b>\r\n        </Label>\r\n        <Input\r\n          className={error === true ? \"showError\" : null}\r\n          type=\"text\"\r\n          placeholder=\"Admin Name\"\r\n          name=\"admin\"\r\n          value={adminName}\r\n          onChange={(ev) => setAdminName(ev.target.value)}\r\n          required\r\n        />\r\n\r\n        <Label htmlFor=\"psw\">\r\n          <b>Password</b>\r\n        </Label>\r\n        <Input\r\n          className={error === true ? \"showError\" : null}\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          name=\"psw\"\r\n          value={password}\r\n          onChange={(ev) => setPassword(ev.target.value)}\r\n          required\r\n        />\r\n\r\n        <Button type=\"submit\">Login</Button>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  height: inherit;\r\n  width: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background-image: url(${BGImage});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  margin-left: 13%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  box-shadow: 0px 0px 3px 0px rgba(50, 50, 50, 0.75);\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 40px;\r\n  display: inline-block;\r\n  border: 1px solid #ccc;\r\n  box-sizing: border-box;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: linear-gradient(to right, #a2ccb6 0%, #fceeb5 50%, #ee786e 100%);\r\n  background-size: 500%;\r\n  border: none;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  height: 40px;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin: 10px;\r\n`;\r\n\r\nconst P = styled.p`\r\n  color: red;\r\n  text-align: center;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport default AdminLogin;\r\n","export default __webpack_public_path__ + \"static/media/pattern2.b7327acd.jpg\";","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { setLogOut } from \"../../actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { BiNotepad, BiMailSend } from \"react-icons/bi\";\r\nimport { IoIosPeople } from \"react-icons/io\";\r\nimport { RiDashboardFill, RiLogoutCircleLine } from \"react-icons/ri\";\r\nimport { CgUnavailable } from \"react-icons/cg\";\r\nimport Pattern from \"../images/pattern2.jpg\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nconst Menu = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    dispatch(setLogOut());\r\n    window.localStorage.clear();\r\n    history.push(\"/admin\");\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <Link to={\"/adminHome\"} data-tip data-for=\"home\">\r\n          <div>\r\n            <RiDashboardFill size={23} fill=\"white\" />\r\n          </div>\r\n          <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"home\">\r\n            {\" Home\"}\r\n          </ReactTooltip>\r\n        </Link>\r\n        <Link to={\"/employee-list\"} data-tip data-for=\"allEmps\">\r\n          <div>\r\n            <IoIosPeople size={23} />\r\n          </div>\r\n          <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"allEmps\">\r\n            {\" Employees\"}\r\n          </ReactTooltip>\r\n        </Link>\r\n        <Link to={\"/see-all-shifts\"} data-tip data-for=\"allShifts\">\r\n          <div>\r\n            <BiNotepad size={23} />\r\n          </div>\r\n          <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"allShifts\">\r\n            {\" Employee Shifts\"}\r\n          </ReactTooltip>\r\n        </Link>\r\n        <Link to={\"/mail-shifts\"} data-tip data-for=\"emails\">\r\n          <div>\r\n            <BiMailSend size={23} />\r\n          </div>\r\n          <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"emails\">\r\n            {\" Send Emails\"}\r\n          </ReactTooltip>\r\n        </Link>\r\n        <div data-tip data-for=\"cancelled\">\r\n          <Link to={\"/cancelled-shifts-admin-side\"}>\r\n            <CgUnavailable size={23} />\r\n          </Link>\r\n          <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"cancelled\">\r\n            {\" See Cancelled Shifts\"}\r\n          </ReactTooltip>\r\n        </div>\r\n        <div data-tip data-for=\"logout\">\r\n          <Button onClick={handleLogout}>\r\n            <RiLogoutCircleLine size={23} />\r\n          </Button>\r\n        </div>\r\n        <ReactTooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"logout\">\r\n          {\" Logout\"}\r\n        </ReactTooltip>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  top: 0;\r\n  position: sticky;\r\n  svg {\r\n    padding: 30px 17px 30px 17px;\r\n\r\n    color: white;\r\n    &:hover {\r\n      opacity: 80%;\r\n    }\r\n  }\r\n  background-image: url(${Pattern});\r\n  background-position-x: 60px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin-top: 20%;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 0;\r\n`;\r\n\r\nexport default Menu;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst UpdateAdminPassword = ({ showModal, setShowModal, profile }) => {\r\n  const modalRef = useRef();\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newpassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [status, setStatus] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setError(\"\");\r\n      setStatus(0);\r\n      setOldPassword(\"\");\r\n      setNewPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setPasswordError(false);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setError(\"\");\r\n        setStatus(0);\r\n        setOldPassword(\"\");\r\n        setNewPassword(\"\");\r\n        setConfirmPassword(\"\");\r\n        setPasswordError(false);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  // function to send the request to the server with password data.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    if (confirmPassword !== newpassword) {\r\n      setPasswordError(true);\r\n    } else if (confirmPassword === newpassword) {\r\n      fetch(\"/update-admin-password\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          id: profile.id,\r\n          oldPassword: oldPassword,\r\n          newPassword: newpassword,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.status === 200) {\r\n            setShowModal(false);\r\n            setStatus(200);\r\n            window.location.reload();\r\n          } else if (res.status === 404) {\r\n            setStatus(404);\r\n            setError(res.message);\r\n          } else {\r\n            window.alert(\"Server error. Please try again.\");\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent></ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n            <Form onSubmit={handleSubmit}>\r\n              <H1>Update Password</H1>\r\n              {error && <Message>{error}</Message>}\r\n              <Label>\r\n                <b>Old password</b>\r\n              </Label>\r\n              <Input\r\n                className={status === 404 ? \"showError\" : null}\r\n                type=\"password\"\r\n                value={oldPassword}\r\n                placeholder=\"Type existing password\"\r\n                onChange={(ev) => setOldPassword(ev.target.value)}\r\n                required\r\n              />\r\n              <Label>\r\n                <b>New password:</b>\r\n              </Label>\r\n              <Input\r\n                className={passwordError === true ? \"notConfirmed\" : null}\r\n                type=\"password\"\r\n                maxLength=\"10\"\r\n                value={newpassword}\r\n                placeholder=\"Type new password\"\r\n                onChange={(ev) => setNewPassword(ev.target.value)}\r\n                required\r\n              />\r\n              <Label>\r\n                <b>Confirm password:</b>\r\n              </Label>\r\n              <Input\r\n                className={passwordError === true ? \"notConfirmed\" : null}\r\n                type=\"password\"\r\n                value={confirmPassword}\r\n                placeholder=\"Confirm new password\"\r\n                onChange={(ev) => setConfirmPassword(ev.target.value)}\r\n                required\r\n              />\r\n              {passwordError && (\r\n                <Message>Passwords not confirmed. Please try again.</Message>\r\n              )}\r\n              <Button type=\"submit\">Update</Button>\r\n            </Form>\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n  button {\r\n    padding: 10px 24px;\r\n    background: #141414;\r\n    color: #fff;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  width: 70%;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n  &.notConfirmed {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n  font-style: bolder;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: #4caf50;\r\n  border: none;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background: white;\r\n    color: black;\r\n    border: 2px solid black;\r\n  }\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 12px;\r\n  padding: 5px;\r\n  color: red;\r\n`;\r\n\r\nexport default UpdateAdminPassword;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  receieveAllShifts,\r\n  receieveEmployeeList,\r\n  receiveCancelledShifts,\r\n} from \"../../actions\";\r\nimport emp from \"../images/admin.jpg\";\r\nimport { AiOutlineSetting } from \"react-icons/ai\";\r\nimport UpdateAdminPassword from \"./UpdateAdminPassword\";\r\n\r\nconst AdminHome = () => {\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const adminState = useSelector((state) => state.admin.admin);\r\n\r\n  const openModal = () => {\r\n    setShowModal((prev) => !prev);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // getting all the shifts from the database and setting the redux state.\r\n    fetch(\"/get-all-shifts\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(receieveAllShifts(res.data));\r\n        }\r\n      });\r\n\r\n    // getting all the employee list from the database and setting the redux state\r\n    fetch(\"/employee-list\")\r\n      .then((res) => res.json())\r\n      .then((res) => dispatch(receieveEmployeeList(res.data)));\r\n\r\n    // getting all the cancelled shifts from the database and setting the redux state\r\n    fetch(\"/get-cancelled-shifts\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(receiveCancelledShifts(res.data));\r\n        }\r\n      });\r\n  });\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Section>\r\n          <div>\r\n            <Img src={emp} />\r\n          </div>\r\n          <div>\r\n            <H1>\r\n              <strong>{`Hi, ${adminState.fname} ${adminState.lname}!`}</strong>\r\n            </H1>\r\n            <P>Welcome to your personal admin portal.</P>\r\n          </div>\r\n          <SettingsContainer>\r\n            <SettingsIcon onClick={() => setShowSettings((prev) => !prev)}>\r\n              <AiOutlineSetting size={23} />\r\n            </SettingsIcon>\r\n            <ChangePassword\r\n              style={{ display: showSettings === true ? \"block\" : \"none\" }}\r\n              onClick={openModal}\r\n            >\r\n              Change password\r\n            </ChangePassword>\r\n          </SettingsContainer>\r\n        </Section>\r\n        <Statement>Here you can..</Statement>\r\n        <Grid>\r\n          <GridElement style={{ backgroundColor: \"#E64F5E\" }}>\r\n            <div>\r\n              <h1>VIEW ALL EMPLOYEES</h1>\r\n              <p>\r\n                Clicking on all \"Employees\" icon shows you all the employees in\r\n                the syste. You can also filter the employees by active, retired\r\n                or archived employees.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#34C0A5\" }}>\r\n            <div>\r\n              <h1>ADD NEW EMPLOYEE</h1>\r\n              <p>\r\n                Administrators can add a new employee to the list by putting in\r\n                their personal information. Only after this step, a new employee\r\n                can register.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#4A87DA\" }}>\r\n            <div>\r\n              <h1>ASSIGN AND VIEW SHIFTS</h1>\r\n              <p>\r\n                You can assign a shift to a particular employee, and filter and\r\n                view all shifts for all employees on the \"Employee shifts\" page.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#EF8839\" }}>\r\n            <div>\r\n              <h1>CHANGE EMPLOYEE STATUS</h1>\r\n              <p>\r\n                Have an employee that is leaving? You can change their\r\n                employement status to \"Retired\", or to \"Archived\" if their\r\n                retired status is more than 3 years!\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#6A78DF\" }}>\r\n            <div>\r\n              <h1> SEND EMAILS</h1>\r\n              <p>\r\n                Clicking on \"Send Email\" icon can help you filter out shifts in\r\n                upcoming date range, and you can send out mass emails to your\r\n                employees!\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#63AA30\" }}>\r\n            <div>\r\n              <h1> TAKE CANCELLED SHIFTS</h1>\r\n              <p>\r\n                Clicking on the \"Cancelled Shifts\" menu will take you to the\r\n                page where you can see all the shifts that are cancelled by your\r\n                employees.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n        </Grid>\r\n      </Container>\r\n      <UpdateAdminPassword\r\n        showModal={showModal}\r\n        setShowModal={setShowModal}\r\n        profile={adminState}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  z-index: 100;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  border-radius: 50%;\r\n  border: 10px solid #03763d;\r\n`;\r\n\r\nconst Section = styled.section`\r\n  display: flex;\r\n  padding: 5px;\r\n  width: inherit;\r\n`;\r\n\r\nconst SettingsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  right: 30px;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst SettingsIcon = styled.button`\r\n  background: transparent;\r\n  cursor: pointer;\r\n  svg {\r\n    color: gray;\r\n  }\r\n`;\r\nconst ChangePassword = styled.button`\r\n  background: transparent;\r\n  border: 1px solid gray;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-size: 4em;\r\n  padding: 30px;\r\n  color: black;\r\n`;\r\n\r\nconst P = styled.p`\r\n  padding: 0px 30px 30px 30px;\r\n  color: gray;\r\n`;\r\n\r\nconst Grid = styled.section`\r\n  display: grid;\r\n  grid-template-columns: auto auto auto;\r\n  margin: 20px 7% 0% 7%;\r\n  align-items: center;\r\n  justify-items: center;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst GridElement = styled.div`\r\n  padding: 10px;\r\n  max-width: 300px;\r\n  margin: 30px;\r\n  color: white;\r\n  div {\r\n    padding: 15px;\r\n  }\r\n  h1 {\r\n    line-height: 3;\r\n  }\r\n  p {\r\n    font-size: 14px;\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst Statement = styled.h1`\r\n  text-align: center;\r\n  font-size: 3em;\r\n`;\r\n\r\nexport default AdminHome;\r\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/pattern.c2ccd798.jpg\";","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { setLogOut } from \"../../actions\";\r\nimport { AiOutlineHome } from \"react-icons/ai\";\r\nimport { BiCalendar, BiNotepad, BiUserCircle } from \"react-icons/bi\";\r\nimport { RiLogoutCircleLine } from \"react-icons/ri\";\r\nimport { CgUnavailable } from \"react-icons/cg\";\r\nimport Pattern from \"../images/pattern.jpg\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nconst Menu = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    dispatch(setLogOut());\r\n    window.localStorage.clear();\r\n    history.push(\"/\");\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <div data-tip data-for=\"home\">\r\n          <Link to={\"/userHome\"}>\r\n            <AiOutlineHome size={23} />\r\n          </Link>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"home\">\r\n            {\" Home\"}\r\n          </Tooltip>\r\n        </div>\r\n        <div data-tip data-for=\"calendar\">\r\n          <Link to={\"/user-shifts\"}>\r\n            <BiCalendar size={23} />\r\n          </Link>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"calendar\">\r\n            {\" Calendar and Agenda\"}\r\n          </Tooltip>\r\n        </div>\r\n        <div data-tip data-for=\"shifts\">\r\n          <Link to={\"/edit-shifts\"}>\r\n            <BiNotepad size={23} />\r\n          </Link>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"shifts\">\r\n            {\" View Shifts\"}\r\n          </Tooltip>\r\n        </div>\r\n        <div data-tip data-for=\"cancelled\">\r\n          <Link to={\"/cancelled-shifts\"}>\r\n            <CgUnavailable size={23} />\r\n          </Link>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"cancelled\">\r\n            {\" See Cancelled Shifts\"}\r\n          </Tooltip>\r\n        </div>\r\n        <div data-tip data-for=\"profile\">\r\n          <Link to={\"/user-profile\"}>\r\n            <BiUserCircle size={23} />\r\n          </Link>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"profile\">\r\n            {\" User Profile\"}\r\n          </Tooltip>\r\n        </div>\r\n        <div data-tip data-for=\"logout\">\r\n          <Button onClick={handleLogout}>\r\n            <RiLogoutCircleLine size={23} />\r\n          </Button>\r\n          <Tooltip place=\"right\" type=\"dark\" effect=\"solid\" id=\"logout\">\r\n            {\" Logout\"}\r\n          </Tooltip>\r\n        </div>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1500;\r\n  svg {\r\n    padding: 30px 17px 30px 17px;\r\n    color: white;\r\n    &:hover {\r\n      opacity: 80%;\r\n    }\r\n    &:focus {\r\n      background-color: #7c7a7a;\r\n    }\r\n  }\r\n  background-image: url(${Pattern});\r\n  background-position-x: 370px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin-top: 20%;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 0;\r\n`;\r\n\r\nconst Tooltip = styled(ReactTooltip)`\r\n  z-index: 500;\r\n  background-color: #f9f83d;\r\n  border: 0.5px solid black;\r\n  color: black;\r\n`;\r\nexport default Menu;\r\n","export default __webpack_public_path__ + \"static/media/employee.9f08d98d.png\";","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport { useSelector } from \"react-redux\";\r\nimport emp from \"../images/employee.png\";\r\n\r\nconst UserHome = () => {\r\n  const userState = useSelector((state) => state.user.user);\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Section>\r\n          <div>\r\n            <img src={emp} alt=\"Banner\" />\r\n          </div>\r\n          <div>\r\n            <H1>\r\n              <strong>{`Hi, ${userState.fname} ${userState.lname}!`}</strong>\r\n            </H1>\r\n            <P>Welcome to your personal employee portal.</P>\r\n          </div>\r\n        </Section>\r\n        <Statement>Here you can..</Statement>\r\n        <Grid>\r\n          <GridElement style={{ backgroundColor: \"#E64F5E\" }}>\r\n            <div>\r\n              <h1>VIEW THE CALENDAR</h1>\r\n              <p>\r\n                Click on the \"Calendar\" icon in the menu and see all of your\r\n                shifts in the organised layout. You can see all shifts in the\r\n                month view, week view, day view and in an agenda view.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#34C0A5\" }}>\r\n            <div>\r\n              <h1>EDIT YOUR SHIFTS</h1>\r\n              <p>\r\n                Click on the \"List\" icon to see your upcoming, past and all\r\n                shifts in the tabular format. You also have the put your shifts\r\n                for cancellation and swapping.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#4A87DA\" }}>\r\n            <div>\r\n              <h1>TAKE CANCELLED SHIFTS</h1>\r\n              <p>\r\n                Clicking on the \"Cancelled Shifts\" menu will take you to the\r\n                page where you can see shifts cancelled by your peers. You can\r\n                take if your schedule allows it.\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n          <GridElement style={{ backgroundColor: \"#EF8839\" }}>\r\n            <div>\r\n              <h1> UPDATE YOUR CONTACTS</h1>\r\n              <p>\r\n                Want to update the way we can contact you? Click on the\r\n                \"Profile\" icon to see your most updated employee information,\r\n                and update it if you want!\r\n              </p>\r\n            </div>\r\n          </GridElement>\r\n        </Grid>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  z-index: 100;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst Section = styled.section`\r\n  display: flex;\r\n  padding: 5px;\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-size: 4em;\r\n  padding: 30px;\r\n  color: black;\r\n`;\r\n\r\nconst P = styled.p`\r\n  padding: 0px 30px 30px 30px;\r\n  color: gray;\r\n`;\r\n\r\nconst Grid = styled.section`\r\n  display: grid;\r\n  grid-template-columns: auto auto;\r\n  margin: 20px 10% 0% 10%;\r\n  align-items: center;\r\n  justify-items: center;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst GridElement = styled.div`\r\n  padding: 10px;\r\n  max-width: 300px;\r\n  margin: 30px;\r\n  color: white;\r\n  div {\r\n    padding: 15px;\r\n  }\r\n  h1 {\r\n    line-height: 3;\r\n  }\r\n  p {\r\n    font-size: 14px;\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst Statement = styled.h1`\r\n  text-align: center;\r\n  font-size: 3em;\r\n`;\r\n\r\nexport default UserHome;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport { Calendar, momentLocalizer, Views } from \"react-big-calendar\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport moment from \"moment\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst localizer = momentLocalizer(moment);\r\nlet allViews = Object.keys(Views).map((k) => Views[k]);\r\n\r\nconst Shifts = () => {\r\n  const events = Object.values(useSelector((state) => state.user.user.shifts));\r\n  const newEvents = events.map((elem) => {\r\n    return {\r\n      ...elem,\r\n      startTime: new Date(parseInt(elem.startTime)),\r\n      endTime: new Date(parseInt(elem.endTime)),\r\n    };\r\n  });\r\n\r\n  // console.log(newEvents);\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Calendar\r\n        localizer={localizer}\r\n        views={allViews}\r\n        events={newEvents}\r\n        step={60}\r\n        showMultiDayTimes\r\n        defaultDate={moment().toDate()}\r\n        defaultView=\"month\"\r\n        startAccessor=\"startTime\"\r\n        endAccessor=\"endTime\"\r\n        style={{ height: \"100vh\", width: \"95%\", padding: \"10px\", zIndex: \"10\" }}\r\n        eventPropGetter={(event) => {\r\n          const eventData = events.find((ot) => ot.id === event.id);\r\n          const backgroundColor = eventData && eventData.color;\r\n          return { style: { backgroundColor } };\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport default Shifts;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport moment from \"moment\";\r\n\r\nconst CancelModal = ({ showModal, setShowModal, cancelData }) => {\r\n  const [serverError, setServerError] = useState(false);\r\n  const modalRef = useRef();\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setServerError(false);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setServerError(false);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  //// function to send the request to the server with cancel shift data\r\n  const handleCancelShift = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/cancel-user-shift\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(cancelData),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setShowModal(false);\r\n          window.location.reload();\r\n        } else setServerError(true);\r\n      });\r\n  };\r\n\r\n  if (serverError) {\r\n    window.alert(\"Server error. Please try again.\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              {cancelData && (\r\n                <>\r\n                  <H1>Confirm shift cancellation.</H1>\r\n                  <Form onSubmit={handleCancelShift}>\r\n                    <Label>\r\n                      <b>Start Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(cancelData.startTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>End Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(cancelData.endTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Button type=\"submit\">Confirm</Button>\r\n                  </Form>\r\n                </>\r\n              )}\r\n            </ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 450px;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  padding-top: 20px;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n  button {\r\n    padding: 10px 24px;\r\n    background: #141414;\r\n    color: #fff;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 0px 30px 30px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: #4caf50;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background: white;\r\n    color: black;\r\n    border: 2px solid black;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px 20px 10px 10px;\r\n  font-size: 1.4em;\r\n  text-align: center;\r\n  width: 100%;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nexport default CancelModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport Menu from \"./Menu\";\r\nimport CancelModal from \"./CancelModal\";\r\nimport { updateUserShifts } from \"../../actions\";\r\n\r\nconst EditShifts = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const shifts = useSelector((state) => state.user.user.shifts);\r\n  const dispatch = useDispatch();\r\n  const [cancelModal, setCancelModal] = useState(false);\r\n  const [cancelData, setCancelData] = useState();\r\n  const ID = useSelector((state) => state.user.user.id);\r\n  useEffect(() => {\r\n    fetch(`/get-user-shifts/${ID}`)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          const shifts = res.data;\r\n          dispatch(updateUserShifts(shifts));\r\n        }\r\n      });\r\n  });\r\n\r\n  const handleCancellingShifts = (object) => {\r\n    setCancelModal((prev) => !prev);\r\n    setCancelData(object);\r\n  };\r\n\r\n  //functions to sort user shifts by upcoming, past and all shifts.\r\n  const sortFutureShifts = shifts.filter((elem) => {\r\n    if (new Date(parseInt(elem.startTime)) > Date.now()) {\r\n      return elem;\r\n    }\r\n  });\r\n\r\n  const sortOldShifts = shifts.filter((elem) => {\r\n    if (new Date(parseInt(elem.startTime)) < Date.now()) {\r\n      return elem;\r\n    }\r\n  });\r\n\r\n  const sortAllShifts = Object.values(\r\n    useSelector((state) => state.user.user.shifts)\r\n  );\r\n\r\n  const UpcomingShifts = () => {\r\n    return setEvents(sortFutureShifts);\r\n  };\r\n\r\n  const PastShifts = () => {\r\n    return setEvents(sortOldShifts);\r\n  };\r\n\r\n  const AllShifts = () => {\r\n    return setEvents(sortAllShifts);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>View and Edit Shifts</Banner>\r\n        <ButtonContainer>\r\n          <Button onClick={UpcomingShifts}>Upcoming shifts</Button>\r\n          <Button onClick={PastShifts}>Past Shifts</Button>\r\n          <Button onClick={AllShifts}>All shifts</Button>\r\n        </ButtonContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Shift Title</th>\r\n              <th>Start Time</th>\r\n              <th>End Time</th>\r\n              <th>Cancel Shift</th>\r\n              <th>Swap Shift</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {events.map((elem, index) => {\r\n              return (\r\n                <tr key={index}>\r\n                  <td>{elem.title}</td>\r\n                  <td>\r\n                    {moment(parseInt(elem.startTime)).local().format(\"LLLL\")}\r\n                  </td>\r\n                  <td>\r\n                    {moment(parseInt(elem.endTime)).local().format(\"LLLL\")}\r\n                  </td>\r\n                  <td>\r\n                    <Cancel\r\n                      onClick={(ev) => handleCancellingShifts(ev, elem)}\r\n                      disabled={\r\n                        new Date(parseInt(elem.startTime)) < Date.now()\r\n                          ? true\r\n                          : false\r\n                      }\r\n                    >\r\n                      Cancel\r\n                    </Cancel>\r\n                  </td>\r\n                  <td>\r\n                    <Swap\r\n                      disabled={\r\n                        new Date(parseInt(elem.startTime)) < Date.now()\r\n                          ? true\r\n                          : false\r\n                      }\r\n                    >\r\n                      Swap\r\n                    </Swap>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </Container>\r\n      <CancelModal\r\n        showModal={cancelModal}\r\n        setShowModal={setCancelModal}\r\n        cancelData={cancelData}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: inherit;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: inherit;\r\n  padding-bottom: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 33.33%;\r\n  height: 40px;\r\n  transition: 0.3s;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n  background-color: black;\r\n  color: white;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst Cancel = styled.button`\r\n  background-color: #e64f5e;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #800000;\r\n  }\r\n  &:disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst Swap = styled.button`\r\n  background-color: #1798d1;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #1798d1;\r\n  }\r\n  &:disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nexport default EditShifts;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst AddEmployeeModal = ({ showModal, setShowModal }) => {\r\n  const [empID, setEmpID] = useState(\"\");\r\n  const [fName, setFName] = useState(\"\");\r\n  const [lName, setLName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [status, setStatus] = useState();\r\n\r\n  const modalRef = useRef();\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setEmpID(\"\");\r\n      setFName(\"\");\r\n      setLName(\"\");\r\n      setEmail(\"\");\r\n      setPhone(\"\");\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setEmpID(\"\");\r\n        setFName(\"\");\r\n        setLName(\"\");\r\n        setEmail(\"\");\r\n        setPhone(\"\");\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  // function to send the request to the server with employee data\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/add-new-employee\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        _id: empID,\r\n        fname: fName,\r\n        lname: lName,\r\n        email: email,\r\n        phoneNumber: phone,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 406) {\r\n          setStatus(406);\r\n        } else if (res.status === 200) {\r\n          setStatus(200);\r\n          setShowModal(false);\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setStatus(406);\r\n      });\r\n  };\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent></ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n            <Form onSubmit={(ev) => handleSubmit(ev)}>\r\n              <H1>Add New User</H1>\r\n\r\n              <Div>\r\n                <label htmlFor=\"empID\">Employee ID</label>\r\n                <Input\r\n                  className={status === 406 ? \"showError\" : null}\r\n                  type=\"text\"\r\n                  placeholder=\"Enter Employee ID\"\r\n                  name=\"empID\"\r\n                  maxLength=\"7\"\r\n                  value={empID}\r\n                  onChange={(ev) => setEmpID(ev.target.value)}\r\n                  required\r\n                />\r\n              </Div>\r\n\r\n              <Div>\r\n                <label htmlFor=\"fname\">First Name</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter First Name\"\r\n                  name=\"fname\"\r\n                  value={fName}\r\n                  onChange={(ev) => setFName(ev.target.value)}\r\n                  required\r\n                />\r\n              </Div>\r\n\r\n              <Div>\r\n                <label htmlFor=\"lname\">Last Name</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter Last Name\"\r\n                  name=\"lname\"\r\n                  value={lName}\r\n                  onChange={(ev) => setLName(ev.target.value)}\r\n                  required\r\n                />\r\n              </Div>\r\n\r\n              <Div>\r\n                <label htmlFor=\"email\">Email</label>\r\n                <Input\r\n                  type=\"email\"\r\n                  placeholder=\"Enter email\"\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={(ev) => setEmail(ev.target.value)}\r\n                  required\r\n                />\r\n              </Div>\r\n\r\n              <Div>\r\n                <label htmlFor=\"phone-num\">Phone Number</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter phone number\"\r\n                  name=\"phone-num\"\r\n                  maxLength=\"10\"\r\n                  value={phone}\r\n                  onChange={(ev) => setPhone(ev.target.value)}\r\n                  required\r\n                />\r\n              </Div>\r\n              {status === 406 && (\r\n                <Message>\r\n                  Employee ID already taken. Please insert a new ID\r\n                </Message>\r\n              )}\r\n              <SubmitButton type=\"submit\">Submit</SubmitButton>\r\n            </Form>\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n  button {\r\n    padding: 10px 24px;\r\n    background: #141414;\r\n    color: #fff;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Div = styled.div`\r\n  text-align-last: end;\r\n  margin: 10px;\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  width: 200px;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  width: 100%;\r\n  height: 40px;\r\n  background: #4caf50;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  &:hover {\r\n    background: white;\r\n    color: black;\r\n    border: 2px solid #4caf50;\r\n  }\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 12px;\r\n  padding: 5px;\r\n  color: red;\r\n`;\r\n\r\nexport default AddEmployeeModal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { receieveEmployeeList } from \"../../actions\";\r\nimport Menu from \"./Menu\";\r\nimport AddEmployeeModal from \"./AddEmployeeModal\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst EmployeeList = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [list, setList] = useState([]);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  //receive the employee list.\r\n  useEffect(() => {\r\n    fetch(\"/employee-list\")\r\n      .then((res) => res.json())\r\n      .then((res) => dispatch(receieveEmployeeList(res.data)));\r\n  }, []);\r\n\r\n  //getting the list of employees from the state.\r\n  const temp = useSelector((state) => state.allEmployees.employees);\r\n  // console.log(list);\r\n  const openModal = () => {\r\n    setShowModal((prev) => !prev);\r\n  };\r\n\r\n  //function to archive the user in the database\r\n  const handleArchiveStatus = (user) => {\r\n    fetch(\"/archive-user\", {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          window.location.reload();\r\n          window.alert(res.message);\r\n        }\r\n      });\r\n  };\r\n\r\n  //function to retire an employee in the database.\r\n  const handleRetireStatus = (user) => {\r\n    fetch(\"/retire-user\", {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          window.location.reload();\r\n          window.alert(res.message);\r\n        }\r\n      });\r\n  };\r\n\r\n  //array methods to sort all users by their current status.\r\n  const activeUsers = temp.filter((el) => el.currentStatus === \"Active\");\r\n  const retiredUsers = temp.filter((el) => el.currentStatus === \"Retired\");\r\n  const archivedUsers = temp.filter((el) => el.currentStatus === \"Archived\");\r\n\r\n  //function to go to the employee page\r\n  const handleRowClick = (id) => {\r\n    history.push(`/employee/${id}`);\r\n  };\r\n\r\n  //function to set the list state by active users.\r\n  const handleActive = () => {\r\n    return setList(activeUsers);\r\n  };\r\n\r\n  //function to set the list state by retired users.\r\n  const handleRetired = () => {\r\n    return setList(retiredUsers);\r\n  };\r\n\r\n  //function to set the list state by archived users.\r\n  const handleArchive = () => {\r\n    return setList(archivedUsers);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Your Employees</Banner>\r\n        <ButtonContainer>\r\n          <div>\r\n            <Button onClick={handleActive}>Active Employees</Button>\r\n            <Button onClick={handleRetired}>Retired Employees</Button>\r\n            <Button onClick={handleArchive}>Archived Employees</Button>\r\n          </div>\r\n          <Button onClick={openModal}>+Add New User</Button>\r\n        </ButtonContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Employee ID</th>\r\n              <th>Name</th>\r\n              <th>Date of Joining (dd/mm/yyyy)</th>\r\n              <th>Employement Status</th>\r\n              <th>Email</th>\r\n              <th>Phone Number</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          {list && (\r\n            <tbody>\r\n              {list.map((elem, index) => {\r\n                return (\r\n                  <tr\r\n                    key={index}\r\n                    id={elem._id}\r\n                    onClick={() => handleRowClick(elem._id)}\r\n                  >\r\n                    <td>{elem._id}</td>\r\n                    <td>\r\n                      {elem.fname} {elem.lname}\r\n                    </td>\r\n                    <td>\r\n                      {moment(parseInt(elem.joinDate)).format(\"DD/MM/YYYY\")}\r\n                    </td>\r\n                    <td>{elem.currentStatus}</td>\r\n                    <td>{elem.email}</td>\r\n                    <td>{elem.phoneNumber}</td>\r\n                    <td>\r\n                      {elem.currentStatus === \"Active\" ? (\r\n                        <Retire onClick={() => handleRetireStatus(elem)}>\r\n                          Retire Employee\r\n                        </Retire>\r\n                      ) : elem.currentStatus === \"Retired\" ? (\r\n                        <Archive onClick={() => handleArchiveStatus(elem)}>\r\n                          Archive Employee\r\n                        </Archive>\r\n                      ) : null}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </Container>\r\n      <AddEmployeeModal showModal={showModal} setShowModal={setShowModal} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  table {\r\n    border-collapse: collapse;\r\n    width: inherit;\r\n    padding: 8px;\r\n  }\r\n\r\n  td,\r\n  th {\r\n    border-bottom: 1px solid #dddddd;\r\n    text-align: left;\r\n    padding: 8px;\r\n    font-size: 16px;\r\n  }\r\n\r\n  tr {\r\n    border-bottom: 1px solid gray;\r\n    cursor: pointer;\r\n    &:hover {\r\n      background-color: #f1eeee;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: inherit;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: black;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: transparent;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0px 20px 0px 20px;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst Retire = styled.button`\r\n  background-color: #03783d;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #044527;\r\n  }\r\n`;\r\n\r\nconst Archive = styled.button`\r\n  background-color: #e64f5e;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #800000;\r\n  }\r\n`;\r\n\r\nexport default EmployeeList;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst AssignShiftModal = ({ showModal, setShowModal }) => {\r\n  const [startTime, setStartTime] = useState(\"\");\r\n  const [empID, setEmpID] = useState();\r\n  const [endTime, setEndTime] = useState(\"\");\r\n  const [shiftType, setShiftType] = useState(\"\");\r\n  const [timeError, setTimeError] = useState(false);\r\n  const empData = useSelector((state) => state.allShifts.users);\r\n  // console.log(empData);\r\n  const modalRef = useRef();\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    //conditionally checking if entered time is appropriate or now. If it is, then use the fetch endpoint to update database.\r\n    if (new Date(endTime).getTime() - new Date(startTime).getTime() <= 0) {\r\n      setTimeError(true);\r\n    } else {\r\n      const shiftStart = new Date(startTime).getTime().toString();\r\n      const shiftEnd = new Date(endTime).getTime().toString();\r\n\r\n      // console.log(shiftStart, shiftEnd);\r\n      fetch(\"/assign-shifts\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          empid: empID,\r\n          startTime: shiftStart,\r\n          endTime: shiftEnd,\r\n          title: shiftType,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            setShowModal(false);\r\n            setTimeError(false);\r\n            setEmpID(\"\");\r\n            setEndTime(\"\");\r\n            setStartTime(\"\");\r\n            setShiftType(\"\");\r\n            window.location.reload();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              <Form onSubmit={handleSubmit}>\r\n                <H1>Assign new shift</H1>\r\n                <ErrorMessage\r\n                  className={timeError === true ? \"showError\" : null}\r\n                >\r\n                  Please set proper time\r\n                </ErrorMessage>\r\n                <Label>Select employee ID:</Label>\r\n                {empData && (\r\n                  <select onChange={(ev) => setEmpID(ev.target.value)} required>\r\n                    <option autoFocus>Select ID</option>\r\n                    {empData.map((elem) => {\r\n                      return (\r\n                        <option key={elem.id} value={elem.id}>\r\n                          {elem.id} - {elem.userProfile.lname},{\" \"}\r\n                          {elem.userProfile.fname}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                )}\r\n                <Label htmlFor=\"start-time\">Select start time:</Label>\r\n                <Input\r\n                  className={timeError === true ? \"showError\" : null}\r\n                  type=\"datetime-local\"\r\n                  value={startTime}\r\n                  name=\"start-time\"\r\n                  min=\"1990-06-07T00:00\"\r\n                  max=\"2099-06-14T00:00\"\r\n                  onChange={(ev) => setStartTime(ev.target.value)}\r\n                  required\r\n                />\r\n\r\n                <Label htmlFor=\"end-time\">Select end time:</Label>\r\n                <Input\r\n                  className={timeError === true ? \"showError\" : null}\r\n                  type=\"datetime-local\"\r\n                  value={endTime}\r\n                  name=\"end-time\"\r\n                  min=\"1990-06-07T00:00\"\r\n                  max=\"2099-06-14T00:00\"\r\n                  onChange={(ev) => setEndTime(ev.target.value)}\r\n                  required\r\n                />\r\n                <Label>Select shift type:</Label>\r\n                <select\r\n                  onChange={(ev) => setShiftType(ev.target.value)}\r\n                  required\r\n                >\r\n                  <option>Shift type</option>\r\n                  <option value=\"Invigilation\">Invigilation</option>\r\n                  <option value=\"Scribe\">Scribe</option>\r\n                </select>\r\n                <Button type=\"submit\">Assign Shift</Button>\r\n              </Form>\r\n            </ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n\r\n  button {\r\n    padding: 10px 24px;\r\n    background: #141414;\r\n    color: #fff;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: transparent;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0px 20px 0px 20px;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.h3`\r\n  margin-bottom: 0rem;\r\n  text-align: center;\r\n  display: none;\r\n  &.showError {\r\n    display: block;\r\n    color: red;\r\n  }\r\n`;\r\n\r\nexport default AssignShiftModal;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport moment from \"moment\";\r\n\r\nconst UpdateShiftModal = ({ showModal, setShowModal, updateData }) => {\r\n  const [startTime, setStartTime] = useState(0);\r\n  const [endTime, setEndTime] = useState(0);\r\n  const [timeError, setTimeError] = useState(false);\r\n  const modalRef = useRef();\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setTimeError(false);\r\n      setEndTime(\"\");\r\n      setStartTime(\"\");\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setShowModal(false);\r\n        setTimeError(false);\r\n        setEndTime(\"\");\r\n        setStartTime(\"\");\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  // function to send the request to the server with update shift data.\r\n  const handleUpdate = (ev) => {\r\n    ev.preventDefault();\r\n    if (new Date(endTime).getTime() - new Date(startTime).getTime() <= 0) {\r\n      setTimeError(true);\r\n    } else {\r\n      const shiftStart = new Date(startTime).getTime().toString();\r\n      const shiftEnd = new Date(endTime).getTime().toString();\r\n\r\n      fetch(\"/update-user-shift\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          id: updateData.id,\r\n          newshift: {\r\n            id: updateData.shiftToUpdate._id,\r\n            startTime: shiftStart,\r\n            endTime: shiftEnd,\r\n          },\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            setShowModal(false);\r\n            setTimeError(false);\r\n            setEndTime(\"\");\r\n            setStartTime(\"\");\r\n            window.location.reload();\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              <H1>Update existing shift</H1>\r\n              <Notice>\r\n                Please note that you will be able to update only date and times.\r\n                If you want to update the invigilator name, please delete this\r\n                shift and assign new shift by clicking on{\" \"}\r\n                <i>\"Add New Shifts\"</i> button.{\" \"}\r\n              </Notice>\r\n              <Form onSubmit={handleUpdate}>\r\n                {updateData && (\r\n                  <>\r\n                    <Label>\r\n                      <b>Employee ID:</b> {updateData.id}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>Name: </b>\r\n                      {updateData.fname} {updateData.lname}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>Current start time: </b>\r\n                      {moment(\r\n                        new Date(parseInt(updateData.shiftToUpdate.startTime))\r\n                      ).format(\"lll\")}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>Current end time: </b>\r\n                      {moment(\r\n                        parseInt(updateData.shiftToUpdate.endTime)\r\n                      ).format(\"lll\")}\r\n                    </Label>\r\n                  </>\r\n                )}\r\n                <ErrorMessage\r\n                  className={timeError === true ? \"showError\" : null}\r\n                >\r\n                  Please set proper time\r\n                </ErrorMessage>\r\n                <Label>\r\n                  <b>New Start Time:</b>\r\n                </Label>\r\n                <Input\r\n                  className={timeError === true ? \"showError\" : null}\r\n                  type=\"datetime-local\"\r\n                  value={startTime}\r\n                  name=\"start-time\"\r\n                  min=\"1990-06-07T00:00\"\r\n                  max=\"2099-06-14T00:00\"\r\n                  onChange={(ev) => setStartTime(ev.target.value)}\r\n                  required\r\n                />\r\n                <Label>\r\n                  <b> New End Time:</b>\r\n                </Label>\r\n                <Input\r\n                  className={timeError === true ? \"showError\" : null}\r\n                  type=\"datetime-local\"\r\n                  value={endTime}\r\n                  name=\"start-time\"\r\n                  min=\"1990-06-07T00:00\"\r\n                  max=\"2099-06-14T00:00\"\r\n                  onChange={(ev) => setEndTime(ev.target.value)}\r\n                  required\r\n                />\r\n                <Button type=\"submit\">Update</Button>\r\n              </Form>\r\n            </ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  width: 500px;\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n`;\r\n\r\nconst Notice = styled.p`\r\n  font-size: 12px;\r\n  padding: 10px 20px 10px 20px;\r\n  margin: 0;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 0px 30px 30px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background-color: #03783d;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: #044527;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.h3`\r\n  margin-bottom: 0rem;\r\n  text-align: center;\r\n  display: none;\r\n  &.showError {\r\n    display: block;\r\n    color: red;\r\n  }\r\n`;\r\n\r\nexport default UpdateShiftModal;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport moment from \"moment\";\r\n\r\nconst CancelShiftModal = ({ showModal, setShowModal, cancelData }) => {\r\n  const [serverError, setServerError] = useState(false);\r\n  const modalRef = useRef();\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setServerError(false);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setServerError(false);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  // function to send the request to the server with cancel data\r\n  const handleCancelShift = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/cancel-user-shift\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(cancelData),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setShowModal(false);\r\n          window.location.reload();\r\n        } else setServerError(true);\r\n      });\r\n  };\r\n\r\n  if (serverError) {\r\n    window.alert(\"Server error. Please try again.\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              {cancelData && (\r\n                <>\r\n                  <H1>Confirm shift cancellation.</H1>\r\n                  <Form onSubmit={handleCancelShift}>\r\n                    <Label>\r\n                      <b>Start Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(cancelData.startTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>End Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(cancelData.endTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Button type=\"submit\">Confirm</Button>\r\n                  </Form>\r\n                </>\r\n              )}\r\n            </ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 450px;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  padding-top: 20px;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 0px 30px 30px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background-color: #e64f5e;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: #800000;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px 20px 10px 10px;\r\n  font-size: 1.4em;\r\n  text-align: center;\r\n  width: 100%;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nexport default CancelShiftModal;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport moment from \"moment\";\r\n\r\nconst DeleteShiftModal = ({ showModal, setShowModal, deleteData }) => {\r\n  const [serverError, setServerError] = useState(false);\r\n  const modalRef = useRef();\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setServerError(true);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setServerError(true);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  // function to send the request to the server with delete shift data\r\n  const handleDeleteShift = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/delete-user-shift\", {\r\n      method: \"Delete\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(deleteData),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setShowModal(false);\r\n          window.location.reload();\r\n        } else {\r\n          window.alert(\"Server error. Please try again.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              {\" \"}\r\n              {deleteData && (\r\n                <>\r\n                  <H1>Are you sure you want to delete following shift?</H1>\r\n                  <Form onSubmit={handleDeleteShift}>\r\n                    <Label>\r\n                      <b>Start Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(deleteData.startTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Label>\r\n                      <b>End Time:</b>{\" \"}\r\n                      {moment(new Date(parseInt(deleteData.endTime))).format(\r\n                        \"lll\"\r\n                      )}\r\n                    </Label>\r\n                    <Button type=\"submit\">Confirm</Button>\r\n                  </Form>\r\n                </>\r\n              )}\r\n            </ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  width: 400px;\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 300px;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: black;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background: gray;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 20px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nexport default DeleteShiftModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport AssignShiftModal from \"./AssignShiftsModal\";\r\nimport Menu from \"./Menu\";\r\nimport { receieveAllShifts } from \"../../actions\";\r\nimport moment from \"moment\";\r\nimport UpdateShiftModal from \"./UpdateShiftModal\";\r\nimport CancelShiftModal from \"./CancelShiftModal\";\r\nimport DeleteShiftModal from \"./DeleteShiftModal\";\r\n\r\nconst UserShifts = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [updateModal, setUpdateModal] = useState(false);\r\n  const [cancelModal, setCancelModal] = useState(false);\r\n  const [deteleModal, setDeleteModal] = useState(false);\r\n  const [updateData, setUpdateData] = useState();\r\n  const [cancelData, setCancelData] = useState();\r\n  const [deleteData, setDeleteData] = useState();\r\n  const dispatch = useDispatch();\r\n\r\n  const openModal = () => {\r\n    setShowModal((prev) => !prev);\r\n  };\r\n\r\n  const [usersAndShifts, setUsersAndShifts] = useState([]);\r\n\r\n  const allUserShifts = useSelector((state) => state.allShifts.users);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/get-all-shifts\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(receieveAllShifts(res.data));\r\n        }\r\n      });\r\n  });\r\n\r\n  const handleUpdate = (theUser, theShift) => {\r\n    setUpdateModal((prev) => !prev);\r\n    setUpdateData({\r\n      id: theUser.id,\r\n      fname: theUser.userProfile.fname,\r\n      lname: theUser.userProfile.lname,\r\n      shiftToUpdate: theShift,\r\n    });\r\n  };\r\n\r\n  const handleCancel = (theshift) => {\r\n    setCancelModal((prev) => !prev);\r\n    setCancelData(theshift);\r\n  };\r\n\r\n  const handleDelete = (theshift) => {\r\n    setDeleteModal((prev) => !prev);\r\n    setDeleteData(theshift);\r\n  };\r\n\r\n  //functions to sort the shifts according to upcoming, past and all shifts.\r\n  const sortFutureShifts = allUserShifts.map((elem) => {\r\n    return {\r\n      ...elem,\r\n      userProfile: {\r\n        ...elem.userProfile,\r\n        shifts: elem.userProfile.shifts.filter(\r\n          (el) => new Date(parseInt(el.startTime)) > Date.now()\r\n        ),\r\n      },\r\n    };\r\n  });\r\n\r\n  const sortOldShifts = allUserShifts.map((elem) => {\r\n    return {\r\n      ...elem,\r\n      userProfile: {\r\n        ...elem.userProfile,\r\n        shifts: elem.userProfile.shifts.filter(\r\n          (el) => new Date(parseInt(el.startTime)) < Date.now()\r\n        ),\r\n      },\r\n    };\r\n  });\r\n\r\n  const sortAllShifts = useSelector((state) => state.allShifts.users);\r\n\r\n  //functions to set usersAndShift state for viewing.\r\n  const UpcomingShifts = () => {\r\n    return setUsersAndShifts(sortFutureShifts);\r\n  };\r\n\r\n  const PastShifts = () => {\r\n    return setUsersAndShifts(sortOldShifts);\r\n  };\r\n\r\n  const AllShifts = () => {\r\n    return setUsersAndShifts(sortAllShifts);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Your Employees</Banner>\r\n        <ButtonContainer>\r\n          <div>\r\n            <Button onClick={UpcomingShifts}>Upcoming shifts</Button>\r\n            <Button onClick={PastShifts}>Past Shifts</Button>\r\n            <Button onClick={AllShifts}>All shifts</Button>\r\n          </div>\r\n          <Button onClick={openModal}>+Add New Shifts</Button>\r\n        </ButtonContainer>\r\n\r\n        <H1>Following are the assigned shifts </H1>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Employee ID</th>\r\n              <th>Name</th>\r\n              <th>Shift Title</th>\r\n              <th>Shift Start</th>\r\n              <th>Shift End </th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          {usersAndShifts && (\r\n            <tbody>\r\n              {usersAndShifts.map((elem, index) => {\r\n                return elem.userProfile.shifts.map((el, i) => {\r\n                  return (\r\n                    <tr key={index + i} id={parseInt(elem.id) + i}>\r\n                      <td>{elem.id}</td>\r\n                      <td>\r\n                        {elem.userProfile.fname} {elem.userProfile.lname}\r\n                      </td>\r\n                      <td>{el.title}</td>\r\n                      <td>{moment(parseInt(el.startTime)).format(\"llll\")}</td>\r\n                      <td>{moment(parseInt(el.endTime)).format(\"llll\")}</td>\r\n                      <td>\r\n                        <Update\r\n                          onClick={(ev) => handleUpdate(ev, elem, el)}\r\n                          disabled={\r\n                            new Date(parseInt(el.startTime)) < Date.now()\r\n                              ? true\r\n                              : false\r\n                          }\r\n                        >\r\n                          Update\r\n                        </Update>\r\n                      </td>\r\n                      <td>\r\n                        <Cancel\r\n                          onClick={(ev) => handleCancel(ev, el)}\r\n                          disabled={\r\n                            new Date(parseInt(el.startTime)) < Date.now()\r\n                              ? true\r\n                              : false\r\n                          }\r\n                        >\r\n                          Cancel\r\n                        </Cancel>\r\n                      </td>\r\n                      <td>\r\n                        <Delete\r\n                          onClick={(ev) => handleDelete(ev, el)}\r\n                          disabled={\r\n                            new Date(parseInt(el.startTime)) < Date.now()\r\n                              ? true\r\n                              : false\r\n                          }\r\n                        >\r\n                          Delete\r\n                        </Delete>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                });\r\n              })}\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </Container>\r\n\r\n      <AssignShiftModal showModal={showModal} setShowModal={setShowModal} />\r\n      <UpdateShiftModal\r\n        showModal={updateModal}\r\n        setShowModal={setUpdateModal}\r\n        updateData={updateData}\r\n      />\r\n      <CancelShiftModal\r\n        showModal={cancelModal}\r\n        setShowModal={setCancelModal}\r\n        cancelData={cancelData}\r\n      />\r\n      <DeleteShiftModal\r\n        showModal={deteleModal}\r\n        setShowModal={setDeleteModal}\r\n        deleteData={deleteData}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst Update = styled.button`\r\n  background-color: #03783d;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #044527;\r\n  }\r\n  &:disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst Cancel = styled.button`\r\n  background-color: #e64f5e;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: #800000;\r\n  }\r\n  &:disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst Delete = styled.button`\r\n  background-color: black;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n  &:disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: inherit;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: black;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: transparent;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0px 20px 0px 20px;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-size: 1.5em;\r\n  padding: 10px;\r\n`;\r\n\r\nexport default UserShifts;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BGImage from \"./images/bg.jpg\";\r\n\r\nconst NewUser = () => {\r\n  const [empID, setEmpID] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [fName, setFName] = useState(\"\");\r\n  const [lName, setLName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [status, setStatus] = useState();\r\n\r\n  let history = useHistory();\r\n\r\n  //following functions registers a new user and their profile is created in the server.\r\n  const handleRegister = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/register-user\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        _id: empID,\r\n        password: password,\r\n        fname: fName,\r\n        lname: lName,\r\n        email: email,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 406) {\r\n          setStatus(406);\r\n        } else if (res.status === 200) {\r\n          setStatus(200);\r\n          history.push(\"/\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Form onSubmit={handleRegister}>\r\n        {status === 406 && (\r\n          <Message>\r\n            Employee details don't exist in the system. Please contact the\r\n            administrator.\r\n          </Message>\r\n        )}\r\n        <Label htmlFor=\"empID\">\r\n          <b>Employee ID</b>\r\n        </Label>\r\n        <Input\r\n          className={status === 406 ? \"showError\" : null}\r\n          type=\"text\"\r\n          placeholder=\"Employee ID\"\r\n          name=\"empID\"\r\n          maxLength=\"7\"\r\n          value={empID}\r\n          onChange={(ev) => setEmpID(ev.target.value)}\r\n          required\r\n        />\r\n        <Label htmlFor=\"fname\">\r\n          <b>First Name</b>\r\n        </Label>\r\n        <Input\r\n          className={status === 406 ? \"showError\" : null}\r\n          type=\"text\"\r\n          placeholder=\"Enter First Name\"\r\n          name=\"fname\"\r\n          value={fName}\r\n          onChange={(ev) => setFName(ev.target.value)}\r\n          required\r\n        />\r\n        <Label htmlFor=\"lname\">\r\n          <b>Last Name</b>\r\n        </Label>\r\n        <Input\r\n          className={status === 406 ? \"showError\" : null}\r\n          type=\"text\"\r\n          placeholder=\"Enter Last Name\"\r\n          name=\"lname\"\r\n          value={lName}\r\n          onChange={(ev) => setLName(ev.target.value)}\r\n          required\r\n        />\r\n\r\n        <Label htmlFor=\"email\">\r\n          <b>Email</b>\r\n        </Label>\r\n        <Input\r\n          className={status === 406 ? \"showError\" : null}\r\n          type=\"email\"\r\n          placeholder=\"Enter email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={(ev) => setEmail(ev.target.value)}\r\n          required\r\n        />\r\n        <Label htmlFor=\"psw\">\r\n          <b>Password</b>\r\n        </Label>\r\n        <Input\r\n          className={status === 406 ? \"showError\" : null}\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          name=\"psw\"\r\n          value={password}\r\n          onChange={(ev) => setPassword(ev.target.value)}\r\n          required\r\n        />\r\n\r\n        <Button type=\"submit\">Register</Button>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  height: inherit;\r\n  width: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background-image: url(${BGImage});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  margin-left: 13%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  box-shadow: 0px 0px 3px 0px rgba(50, 50, 50, 0.75);\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 0.9em;\r\n  padding: 10px 10px 0px 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 30px;\r\n  display: inline-block;\r\n  border: 1px solid #ccc;\r\n  box-sizing: border-box;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: linear-gradient(to right, #a2ccb6 0%, #fceeb5 50%, #ee786e 100%);\r\n  background-size: 500%;\r\n  border: none;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  height: 40px;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin: 10px;\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 14px;\r\n  padding: 5px;\r\n  color: red;\r\n  padding: 1px;\r\n  text-align: center;\r\n`;\r\n\r\nexport default NewUser;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport Menu from \"./Menu\";\r\nimport { receiveCancelledShifts } from \"../../actions\";\r\n\r\nconst CancelledShifts = () => {\r\n  const dispatch = useDispatch();\r\n  const events = useSelector((state) => state.cancelled.shifts);\r\n  const ID = useSelector((state) => state.user.user.id);\r\n\r\n  //getting cancelled shifts\r\n  useEffect(() => {\r\n    fetch(\"/get-cancelled-shifts\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(receiveCancelledShifts(res.data));\r\n        }\r\n      });\r\n  });\r\n\r\n  //function to take cancelled shift by the logged in user.\r\n  const handleTakeShift = (shift) => {\r\n    fetch(\"/take-cancelled-shift\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: ID,\r\n        shift: shift,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          console.log(res);\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Cancelled Shifts</Banner>\r\n        {events && (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Shift Title</th>\r\n                <th>Start Time</th>\r\n                <th>End Time</th>\r\n                <th>Take Shift</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {events.map((elem, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{elem.title}</td>\r\n                    <td>\r\n                      {moment(parseInt(elem.startTime)).local().format(\"LLLL\")}\r\n                    </td>\r\n                    <td>\r\n                      {moment(parseInt(elem.endTime)).local().format(\"LLLL\")}\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleTakeShift(elem)}\r\n                        disabled={\r\n                          new Date(parseInt(elem.startTime)).getTime() <\r\n                            Date.now() &&\r\n                          new Date(parseInt(elem.endTime)).getTime() <\r\n                            Date.now()\r\n                            ? true\r\n                            : false\r\n                        }\r\n                      >\r\n                        Take Shift\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n\r\n  table {\r\n    width: 100%;\r\n    th {\r\n      background-color: #4b4b4b;\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: inherit;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nexport default CancelledShifts;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst UpdateDetailsModal = ({ showModal, setShowModal, profile }) => {\r\n  const modalRef = useRef();\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [status, setStatus] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setPhone(\"\");\r\n      setPassword(\"\");\r\n      setError(\"\");\r\n      setStatus(0);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setPhone(\"\");\r\n        setPassword(\"\");\r\n        setError(\"\");\r\n        setStatus(0);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  // function to send the request to the server to update phone number.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/update-contact-info\", {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        id: profile._id,\r\n        password: password,\r\n        phoneNumber: phone,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setShowModal(false);\r\n          setStatus(200);\r\n          window.location.reload();\r\n        } else if (res.status === 404) {\r\n          setStatus(404);\r\n          setError(res.message);\r\n        } else {\r\n          window.alert(\"Server error. Please try again.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent></ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n            <Form onSubmit={handleSubmit}>\r\n              <H1>Update Phone Number</H1>\r\n              <Label>\r\n                <b>Phone number:</b>\r\n              </Label>\r\n              <Input\r\n                type=\"text\"\r\n                maxLength=\"10\"\r\n                value={phone}\r\n                placeholder={profile.phoneNumber}\r\n                onChange={(ev) => setPhone(ev.target.value)}\r\n                required\r\n              />\r\n              <Label>\r\n                <b>Password:</b>\r\n              </Label>\r\n              <Input\r\n                className={status === 404 ? \"showError\" : null}\r\n                type=\"password\"\r\n                value={password}\r\n                placeholder=\"Confirm password\"\r\n                onChange={(ev) => setPassword(ev.target.value)}\r\n                required\r\n              />\r\n              {error && <Message>{error}</Message>}\r\n              <Button type=\"submit\">Update</Button>\r\n            </Form>\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  width: 70%;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n  font-style: bolder;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background-color: #1798d1;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: #0a63b0;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 12px;\r\n  padding: 5px;\r\n  color: red;\r\n`;\r\n\r\nexport default UpdateDetailsModal;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst UpdatePasswordModal = ({ showModal, setShowModal, profile }) => {\r\n  const modalRef = useRef();\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newpassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [status, setStatus] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setError(\"\");\r\n      setStatus(0);\r\n      setOldPassword(\"\");\r\n      setNewPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setPasswordError(false);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setError(\"\");\r\n        setStatus(0);\r\n        setOldPassword(\"\");\r\n        setNewPassword(\"\");\r\n        setConfirmPassword(\"\");\r\n        setPasswordError(false);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  // function to send the request to the server to update password.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    if (confirmPassword !== newpassword) {\r\n      setPasswordError(true);\r\n    } else if (confirmPassword === newpassword) {\r\n      fetch(\"/update-password\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          id: profile._id,\r\n          oldPassword: oldPassword,\r\n          newPassword: newpassword,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.status === 200) {\r\n            setShowModal(false);\r\n            setStatus(200);\r\n            window.location.reload();\r\n          } else if (res.status === 404) {\r\n            setStatus(404);\r\n            setError(res.message);\r\n          } else {\r\n            window.alert(\"Server error. Please try again.\");\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent></ModalContent>\r\n            <CloseModalButton\r\n              aria-label=\"Close modal\"\r\n              onClick={() => setShowModal((prev) => !prev)}\r\n            />\r\n            <Form onSubmit={handleSubmit}>\r\n              <H1>Update Password</H1>\r\n              {error && <Message>{error}</Message>}\r\n              <Label>\r\n                <b>Old password</b>\r\n              </Label>\r\n              <Input\r\n                className={status === 404 ? \"showError\" : null}\r\n                type=\"password\"\r\n                value={oldPassword}\r\n                placeholder=\"Type existing password\"\r\n                onChange={(ev) => setOldPassword(ev.target.value)}\r\n                required\r\n              />\r\n              <Label>\r\n                <b>New password:</b>\r\n              </Label>\r\n              <Input\r\n                className={passwordError === true ? \"notConfirmed\" : null}\r\n                type=\"password\"\r\n                maxLength=\"10\"\r\n                value={newpassword}\r\n                placeholder=\"Type new password\"\r\n                onChange={(ev) => setNewPassword(ev.target.value)}\r\n                required\r\n              />\r\n              <Label>\r\n                <b>Confirm password:</b>\r\n              </Label>\r\n              <Input\r\n                className={passwordError === true ? \"notConfirmed\" : null}\r\n                type=\"password\"\r\n                value={confirmPassword}\r\n                placeholder=\"Confirm new password\"\r\n                onChange={(ev) => setConfirmPassword(ev.target.value)}\r\n                required\r\n              />\r\n              {passwordError && (\r\n                <Message>Passwords not confirmed. Please try again.</Message>\r\n              )}\r\n              <Button type=\"submit\">Update</Button>\r\n            </Form>\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  width: 70%;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n  &.notConfirmed {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n  font-style: bolder;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background-color: #1798d1;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: #0a63b0;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 12px;\r\n  padding: 5px;\r\n  color: red;\r\n`;\r\n\r\nexport default UpdatePasswordModal;\r\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst UpdateEmailModal = ({ showModal, setShowModal, profile }) => {\r\n  const modalRef = useRef();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [status, setStatus] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // function to set all the states to initial state when any part outside the modal is clicked\r\n  const closeModal = (e) => {\r\n    if (modalRef.current === e.target) {\r\n      setShowModal(false);\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      setError(\"\");\r\n      setStatus(0);\r\n    }\r\n  };\r\n\r\n  //function to set all the states to initial state when escape key is pressed.\r\n  const keyPress = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Escape\" && showModal) {\r\n        setShowModal(false);\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        setError(\"\");\r\n        setStatus(0);\r\n      }\r\n    },\r\n    [setShowModal, showModal]\r\n  );\r\n\r\n  //event handler for pressing the escape key\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPress);\r\n    return () => document.removeEventListener(\"keydown\", keyPress);\r\n  }, [keyPress]);\r\n\r\n  // function to send the request to the server to update email.\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    fetch(\"/update-user-email\", {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        id: profile._id,\r\n        password: password,\r\n        email: email,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setShowModal(false);\r\n          setStatus(200);\r\n          window.location.reload();\r\n        } else if (res.status === 404) {\r\n          setStatus(404);\r\n          setError(res.message);\r\n        } else {\r\n          window.alert(\"Server error. Please try again.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <Background onClick={closeModal} ref={modalRef}>\r\n          <ModalWrapper showModal={showModal}>\r\n            <ModalContent>\r\n              <CloseModalButton\r\n                aria-label=\"Close modal\"\r\n                onClick={() => setShowModal((prev) => !prev)}\r\n              />\r\n              <Form onSubmit={handleSubmit}>\r\n                <H1>Update Email</H1>\r\n                <Label>\r\n                  <b>Email:</b>\r\n                </Label>\r\n                <Input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  placeholder={profile.email}\r\n                  onChange={(ev) => setEmail(ev.target.value)}\r\n                  required\r\n                />\r\n                <Label>\r\n                  <b>Password:</b>\r\n                </Label>\r\n                <Input\r\n                  className={status === 404 ? \"showError\" : null}\r\n                  type=\"password\"\r\n                  value={password}\r\n                  placeholder=\"Confirm password\"\r\n                  onChange={(ev) => setPassword(ev.target.value)}\r\n                  required\r\n                />\r\n                {error && <Message>{error}</Message>}\r\n                <Button type=\"submit\">Update</Button>\r\n              </Form>\r\n            </ModalContent>\r\n          </ModalWrapper>\r\n        </Background>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  color: #000;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.8;\r\n  color: #141414;\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled(MdClose)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  display: flex;\r\n  width: 300px;\r\n  flex-direction: column;\r\n  label {\r\n    font-size: 14px;\r\n    padding-right: 5px;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  font-size: 1.7em;\r\n  text-align: center;\r\n  border-bottom: 1px solid gray;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin: 10px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  border: none;\r\n  border-bottom: 1px solid #ccc;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  width: 90%;\r\n  &.showError {\r\n    border: 2px solid red;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: black;\r\n  font-size: 1em;\r\n  padding: 10px 10px 0px 10px;\r\n  font-style: bolder;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background-color: #1798d1;\r\n  border: none;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  letter-spacing: 0.05em;\r\n  outline: none;\r\n  margin-top: 20px;\r\n  &:hover {\r\n    background-color: #0a63b0;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 12px;\r\n  padding: 5px;\r\n  color: red;\r\n`;\r\n\r\nexport default UpdateEmailModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport { receiveUserDetails } from \"../../actions\";\r\nimport moment from \"moment\";\r\nimport UpdateDetailsModal from \"./UpdateDetailsModal\";\r\nimport UpdatePasswordModal from \"./UpdatePasswordModal\";\r\nimport UpdateEmailModal from \"./UpdateEmailModal\";\r\n\r\nconst UserProfile = () => {\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [changePasswordModa, setChangePasswordModal] = useState(false);\r\n  const [changeEmailModal, setChangeEmailModal] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const userID = useSelector((state) => state.user.user.id);\r\n  const profile = useSelector((state) => state.userDetails.profile);\r\n\r\n  //functions to open different modals\r\n  const openDetailsModal = () => {\r\n    setShowDetailsModal((prev) => !prev);\r\n  };\r\n\r\n  const openPasswordModal = () => {\r\n    setChangePasswordModal((prev) => !prev);\r\n  };\r\n\r\n  const openEmailModal = () => {\r\n    setChangeEmailModal((prev) => !prev);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`/get-user-details/${userID}`)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(receiveUserDetails(res.data));\r\n        }\r\n      });\r\n  });\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Your Profile</Banner>\r\n        <ButtonContainer>\r\n          <Button onClick={openDetailsModal}>Change phone number</Button>\r\n          <Button onClick={openEmailModal}>Change email</Button>\r\n          <Button onClick={openPasswordModal}>Change password</Button>\r\n        </ButtonContainer>\r\n        <TableContainer>\r\n          {profile && (\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Name</td>\r\n                  <td>\r\n                    {profile.fname} {profile.lname}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Employee ID</td>\r\n                  <td>{profile._id}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Email</td>\r\n                  <td>{profile.email}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Phone Number</td>\r\n                  <td>{profile.phoneNumber}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Joining Date</td>\r\n                  <td>{moment(parseInt(profile.joinDate)).format(\"ll\")}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </TableContainer>\r\n      </Container>\r\n      <UpdateDetailsModal\r\n        showModal={showDetailsModal}\r\n        setShowModal={setShowDetailsModal}\r\n        profile={profile}\r\n      />\r\n      <UpdatePasswordModal\r\n        showModal={changePasswordModa}\r\n        setShowModal={setChangePasswordModal}\r\n        profile={profile}\r\n      />\r\n      <UpdateEmailModal\r\n        showModal={changeEmailModal}\r\n        setShowModal={setChangeEmailModal}\r\n        profile={profile}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: inherit;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  color: #fff;\r\n  font-size: 17px;\r\n  cursor: pointer;\r\n  background: transparent;\r\n  padding: 15px;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: inherit;\r\n  align-content: right;\r\n  background-color: black;\r\n  text-align: right;\r\n`;\r\n\r\nconst TableContainer = styled.div`\r\n  display: flex;\r\n  margin: auto;\r\n  table {\r\n    border: none;\r\n    td,\r\n    tr {\r\n      border: none;\r\n      padding: 20px;\r\n    }\r\n    td:nth-child(1) {\r\n      font-weight: 900;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default UserProfile;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport moment from \"moment\";\r\n\r\nconst SendMail = () => {\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [filteredShifts, setFilteredShifts] = useState([]);\r\n\r\n  const empDetails = useSelector(\r\n    (state) => state.allEmployees.employees\r\n  ).filter((el) => el.currentStatus === \"Active\");\r\n\r\n  const empShifts = useSelector((state) => state.allShifts.users);\r\n\r\n  //handleShiftFilter filters the user shifts between a set of dates. An offset of 1440000 is required because the date input gives GMT date. If it is converted to local time, there is a 4 hour difference. So to have the date starting at midnight of the selected local date, 4 hours are added to the \"new Date()\" functions.\r\n  const handleShiftFilter = () => {\r\n    let dateStart = new Date(\r\n      new Date(startDate).getTime() + 14400000\r\n    ).getTime();\r\n    let dateEnd = new Date(new Date(endDate).getTime() + 14400000).getTime();\r\n    let shiftFilter = empShifts\r\n      .map((elem) => {\r\n        return {\r\n          ...elem,\r\n          userProfile: {\r\n            ...elem.userProfile,\r\n            shifts: elem.userProfile.shifts.filter((el) => {\r\n              if (\r\n                parseInt(el.startTime) > dateStart &&\r\n                parseInt(el.endTime) < dateEnd\r\n              ) {\r\n                return el;\r\n              }\r\n            }),\r\n          },\r\n        };\r\n      })\r\n      .filter((elem) => elem.userProfile.shifts.length > 0);\r\n\r\n    // this function is required to add the email of the employees to the employee profiles with their respective emails.\r\n    const shiftsWithEmails = shiftFilter.map((elem) => {\r\n      return {\r\n        ...elem,\r\n        userProfile: {\r\n          ...elem.userProfile,\r\n          email: empDetails.find((el) => el._id === elem.id).email,\r\n        },\r\n      };\r\n    });\r\n    setFilteredShifts(shiftsWithEmails);\r\n  };\r\n  // Following function is used to send mass emails out to the employees on the click of the button.\r\n  const handleEmailFunction = () => {\r\n    console.log(filteredShifts);\r\n    fetch(\"/send-emails\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(filteredShifts),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          console.log(res);\r\n          window.alert(\"Emails sent!\");\r\n        } else if (res.status === 502) {\r\n          window.alert(\r\n            \"Email not sent to \" + res.message + \". Please try again.\"\r\n          );\r\n        } else {\r\n          window.alert(\"Server error. Please try again.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Notify invigilators</Banner>\r\n        <P>-Select date range and send emails-</P>\r\n        <InputContainer>\r\n          <span>\r\n            <b>Start Date: </b>\r\n          </span>\r\n          <span>\r\n            <input\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(ev) => setStartDate(ev.target.value)}\r\n            />\r\n          </span>\r\n        </InputContainer>\r\n        <InputContainer>\r\n          <span>\r\n            <b>End Date: </b>\r\n          </span>\r\n          <span>\r\n            <input\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(ev) => setEndDate(ev.target.value)}\r\n            />\r\n          </span>\r\n        </InputContainer>\r\n        <ButtonContainer>\r\n          <button onClick={handleShiftFilter}>Get appropriate shifts</button>\r\n          <button onClick={handleEmailFunction}>Send Emails</button>\r\n        </ButtonContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Employee ID</th>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Shift Title</th>\r\n              <th>Shift Start</th>\r\n              <th>Shift End </th>\r\n            </tr>\r\n          </thead>\r\n          {filteredShifts && (\r\n            <tbody>\r\n              {filteredShifts.map((elem, index) => {\r\n                return elem.userProfile.shifts.map((el, i) => {\r\n                  return (\r\n                    <tr key={index + i} id={parseInt(elem.id) + i}>\r\n                      <td>{elem.id}</td>\r\n                      <td>\r\n                        {elem.userProfile.fname} {elem.userProfile.lname}\r\n                      </td>\r\n                      <td>{elem.userProfile.email}</td>\r\n                      <td>{el.title}</td>\r\n                      <td>{moment(parseInt(el.startTime)).format(\"llll\")}</td>\r\n                      <td>{moment(parseInt(el.endTime)).format(\"llll\")}</td>\r\n                    </tr>\r\n                  );\r\n                });\r\n              })}\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst P = styled.p`\r\n  font-size: 2em;\r\n  text-align: center;\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  input {\r\n    width: 200px;\r\n  }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  text-align: center;\r\n  button {\r\n    margin: 20px;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    background-color: black;\r\n    color: white;\r\n    &:hover {\r\n      background-color: gray;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default SendMail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport Menu from \"./Menu\";\r\nimport moment from \"moment\";\r\n\r\nconst EmployeeProfile = () => {\r\n  const { id } = useParams();\r\n  const [empShifts, setEmpShifts] = useState();\r\n  const [temp, setTemp] = useState([]);\r\n  const empDetails = useSelector((state) =>\r\n    state.allEmployees.employees.find((el) => el._id === id)\r\n  );\r\n\r\n  //following useEffect runs only when id or empDetails are updated. Based on currentStatus that the employee has, employee shifts are fetched from the server. Server action is required here to fetch the most update data.\r\n  useEffect(() => {\r\n    if (empDetails.currentStatus === \"Active\") {\r\n      fetch(`/get-user-shifts/${id}`)\r\n        .then((res) => res.json())\r\n        .then((res) => setTemp(res.data));\r\n    } else if (empDetails.currentStatus === \"Archived\") {\r\n      fetch(`/get-archived-user/${id}`)\r\n        .then((res) => res.json())\r\n        .then((res) => setTemp(res.data));\r\n    } else if (empDetails.currentStatus === \"Retired\") {\r\n      fetch(`/get-retired-user/${id}`)\r\n        .then((res) => res.json())\r\n        .then((res) => setTemp(res.data));\r\n    }\r\n  }, [empDetails, id]);\r\n  console.log(empDetails, temp);\r\n\r\n  //employee shifts are sorted here with upcoming, past and all shifts filters.\r\n  const sortFutureShifts = temp.filter(\r\n    (el) => new Date(parseInt(el.startTime)) > Date.now()\r\n  );\r\n\r\n  const sortOldShifts = temp.filter(\r\n    (el) => new Date(parseInt(el.startTime)) < Date.now()\r\n  );\r\n\r\n  const sortAllShifts = temp;\r\n\r\n  //following functions set the empShifts state with appropriate filtered data\r\n  const UpcomingShifts = () => {\r\n    return setEmpShifts(sortFutureShifts);\r\n  };\r\n\r\n  const PastShifts = () => {\r\n    return setEmpShifts(sortOldShifts);\r\n  };\r\n\r\n  const AllShifts = () => {\r\n    return setEmpShifts(sortAllShifts);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Employee Details</Banner>\r\n        {empDetails && (\r\n          <Div>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Employee ID</td>\r\n                  <td>{empDetails._id}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>First Name</td>\r\n                  <td>{empDetails.fname}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Last Name</td>\r\n                  <td>{empDetails.lname}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Email</td>\r\n                  <td>{empDetails.email}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Phone Number</td>\r\n                  <td>{empDetails.phoneNumber}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </Div>\r\n        )}\r\n        <Banner>Employee Shifts</Banner>\r\n\r\n        <ButtonContainer>\r\n          <Button onClick={UpcomingShifts}>Upcoming shifts</Button>\r\n          <Button onClick={PastShifts}>Past Shifts</Button>\r\n          <Button onClick={AllShifts}>All shifts</Button>\r\n        </ButtonContainer>\r\n        {empShifts ? (\r\n          <>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Shift Title</th>\r\n                  <th>Shift Start</th>\r\n                  <th>Shift End </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {empShifts.map((el) => {\r\n                  return (\r\n                    <tr>\r\n                      <td>{el.title}</td>\r\n                      <td>{moment(parseInt(el.startTime)).format(\"llll\")}</td>\r\n                      <td>{moment(parseInt(el.endTime)).format(\"llll\")}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </>\r\n        ) : (\r\n          <p>No shifts exist currently for {empDetails.fname}.</p>\r\n        )}\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nconst Div = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  table {\r\n    td,\r\n    tr {\r\n      border: none;\r\n    }\r\n    td:nth-child(1) {\r\n      font-weight: 950;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: inherit;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: inherit;\r\n\r\n  background-color: black;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  width: 33.33%;\r\n  background: transparent;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0px 20px 0px 20px;\r\n  &:hover {\r\n    background-color: gray;\r\n  }\r\n`;\r\n\r\nexport default EmployeeProfile;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst CancelledShiftsAdmin = () => {\r\n  //list of cancelled shifts from the state.\r\n  const events = useSelector((state) => state.cancelled.shifts);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Menu />\r\n      <Container>\r\n        <Banner>Cancelled Shifts</Banner>\r\n        {events && (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Shift Title</th>\r\n                <th>Start Time</th>\r\n                <th>End Time</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {events.map((elem, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{elem.title}</td>\r\n                    <td>\r\n                      {moment(parseInt(elem.startTime)).local().format(\"LLLL\")}\r\n                    </td>\r\n                    <td>\r\n                      {moment(parseInt(elem.endTime)).local().format(\"LLLL\")}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n\r\n  table {\r\n    width: 100%;\r\n    th {\r\n      background-color: #4b4b4b;\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: inherit;\r\n`;\r\n\r\nconst Banner = styled.p`\r\n  width: 100%;\r\n  color: black;\r\n  padding: 50px 0px 50px 10px;\r\n  font-size: 3em;\r\n  font-weight: 900;\r\n`;\r\n\r\nexport default CancelledShiftsAdmin;\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport GlobalStyles from \"./GlobalStyles\";\nimport styled from \"styled-components\";\n\nimport UserLogin from \"./UserLogin\";\nimport AdminLogin from \"./AdminLogin\";\nimport AdminHome from \"./admin/AdminHome\";\nimport UserHome from \"./users/UserHome\";\nimport Shifts from \"./users/Shifts\";\nimport EditShifts from \"./users/EditShifts\";\nimport EmployeeList from \"./admin/EmployeeList\";\nimport UserShifts from \"./admin/UserShifts\";\nimport NewUser from \"./NewUser\";\nimport CancelledShifts from \"./users/CancelledShifts\";\nimport UserProfile from \"./users/UserProfile\";\nimport SendMail from \"./admin/SendMail\";\nimport EmployeeProfile from \"./admin/EmployeeProfile\";\nimport CancelledShiftsAdmin from \"./admin/CancelledShiftsAdmin\";\n\nconst App = () => {\n  const loginCheck = useSelector((state) => state.logInCheck.hasLoggedIn);\n  // console.log(loginCheck);\n\n  return (\n    <Wrapper>\n      <GlobalStyles />\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <UserLogin />\n          </Route>\n          <Route path=\"/admin\">\n            <AdminLogin />\n          </Route>\n          <Route path=\"/new-user\">\n            <NewUser />\n          </Route>\n          {/* following routing methods depend upon private routing. If the logged in state is true,only then following components can be routed. If not, then they are redirected to the home page or landing page. */}\n          {loginCheck === true ? (\n            <Route path=\"/adminHome\">\n              <AdminHome />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/userHome\">\n              <UserHome />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/user-shifts\">\n              <Shifts />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/edit-shifts\">\n              <EditShifts />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/user-profile\">\n              <UserProfile />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/employee-list\">\n              <EmployeeList />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/see-all-shifts\">\n              <UserShifts />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/cancelled-shifts\">\n              <CancelledShifts />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/mail-shifts\">\n              <SendMail />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/employee/:id\">\n              <EmployeeProfile />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n          {loginCheck === true ? (\n            <Route path=\"/cancelled-shifts-admin-side\">\n              <CancelledShiftsAdmin />\n            </Route>\n          ) : (\n            <Redirect to=\"/\" exact />\n          )}\n        </Switch>\n      </Router>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n`;\n\nexport default App;\n","const initialState = {\r\n  shifts: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function cancelledShiftReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RECEIVE_CANCELLED_SHIFTS\": {\r\n      return {\r\n        ...state,\r\n        status: \"idle\",\r\n        shifts: action.shifts,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  user: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function userShiftReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RECEIVE_USER_PROFILE\": {\r\n      return {\r\n        ...state,\r\n        status: \"idle\",\r\n        user: action.profile,\r\n      };\r\n    }\r\n    case \"UPDATE_USER_SHIFTS\": {\r\n      return {\r\n        ...state,\r\n        user: { ...state.user, shifts: action.shifts },\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  user: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function swapShiftReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  hasLoggedIn: false,\r\n};\r\n\r\nexport default function hasLoggedInReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"SET_LOG_IN\": {\r\n      return {\r\n        ...state,\r\n        hasLoggedIn: true,\r\n      };\r\n    }\r\n    case \"SET_LOG_OUT\": {\r\n      return {\r\n        ...state,\r\n        hasLoggedIn: false,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  admin: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function adminReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RECEIVE_ADMIN_PROFILE\": {\r\n      return {\r\n        ...state,\r\n        status: \"idle\",\r\n        admin: action.profile,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  employees: null,\r\n  status: \"idle\",\r\n  error: null,\r\n};\r\n\r\nexport default function employeeListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RECEIVE_EMPLOYEE_LIST\": {\r\n      // console.log(action);\r\n      return {\r\n        ...state,\r\n        employees: action.list,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  users: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function allShiftsReducer(state = initialState, action) {\r\n  // console.log(action);\r\n  switch (action.type) {\r\n    case \"RECEIVE_ALL_SHIFTS\": {\r\n      // console.log(action);\r\n      return {\r\n        ...state,\r\n        users: action.shifts,\r\n        status: \"idle\",\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","const initialState = {\r\n  profile: null,\r\n  status: \"loading\",\r\n  error: null,\r\n};\r\n\r\nexport default function userShiftReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RECEIVE_USER_DETAILS\": {\r\n      return {\r\n        ...state,\r\n        status: \"idle\",\r\n        profile: action.details,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport cancelled from \"./cancelled-shifts-reducer\";\r\nimport user from \"./user-shift-reducer\";\r\nimport swap from \"./swap-shifts-reducer\";\r\nimport logInCheck from \"./hasLoggedIn-reducer\";\r\nimport admin from \"./admin-reducer\";\r\nimport allEmployees from \"./employee-list-reducer\";\r\nimport allShifts from \"./all-shifts-reducer\";\r\nimport userDetails from \"./user-details-reducer\";\r\n\r\nexport default combineReducers({\r\n  user,\r\n  cancelled,\r\n  swap,\r\n  logInCheck,\r\n  admin,\r\n  allEmployees,\r\n  allShifts,\r\n  userDetails,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./store\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import { createStore } from \"redux\";\r\nimport { loadState, saveState } from \"./localstorage\";\r\nimport combineReducers from \"./reducers\";\r\n\r\nexport default function configureStore() {\r\n  //call loadState function from localstorage.js to pass to createStore. This will update the redux state automatically from local storahe.\r\n  const persistedState = loadState();\r\n  const store = createStore(\r\n    combineReducers,\r\n    persistedState,\r\n    // initialState,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  );\r\n  //store.subscribe() uses getState function and passes it to saveState function in localStorage.js to be saved in to the local storage.\r\n  store.subscribe(() => {\r\n    saveState(store.getState());\r\n  });\r\n  return store;\r\n}\r\n","//loadState picks the state from local storage and updates the redux state.\r\nexport const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\n//saveState puts the redux state to local storage.\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"],"sourceRoot":""}